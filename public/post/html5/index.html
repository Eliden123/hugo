<!DOCTYPE html>
<html lang="zh_CN">
<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<script type="application/ld+json">
    {
        "@context" : "http://schema.org",
        "@type" : "BlogPosting",
        "mainEntityOfPage": {
             "@type": "WebPage",
             "@id": "https://Eliden123.github.io/"
        },
        "articleSection" : "post",
        "name" : "HTML5笔记",
        "headline" : "HTML5笔记",
        "description" : "<p></p>",
        "inLanguage" : "en",
        "author" : "",
        "creator" : "",
        "publisher": "",
        "accountablePerson" : "",
        "copyrightHolder" : "",
        "copyrightYear" : "2018",
        "datePublished": "2018-09-05 00:00:00 &#43;0000 UTC",
        "dateModified" : "2018-09-05 00:00:00 &#43;0000 UTC",
        "url" : "https://Eliden123.github.io/post/html5/",
        "wordCount" : "671",
        "image" : https://Eliden123.github.io/headerimg/1.jpg",
        "keywords" : [ "Blog" ]   
    }
    </script>


 <title>HTML5笔记 </title>


<meta name="description" content="Describe your website" />



<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="robots" content="all,follow">
<meta name="googlebot" content="index,follow,snippet,archive">
<link rel="stylesheet" id="ct-tracks-google-fonts-css" href="//fonts.googleapis.com/css?family=Raleway%3A400%2C700&amp;subset=latin%2Clatin-ext&amp;ver=4.7.2" type="text/css" media="all">
<link rel="stylesheet" href="https://Eliden123.github.io/css/font-awesome.min.css" type='text/css' media='all'>

<link href="https://Eliden123.github.io/css/style.css" rel="stylesheet" id="theme-stylesheet" type='text/css' media='all'>

<link href="https://Eliden123.github.io/css/custom.css" rel="stylesheet" type='text/css' media='all'>
<link rel="shortcut icon" href="https://Eliden123.github.io/img/favicon.ico" type="image/x-icon">
<link rel="icon" href="https://Eliden123.github.io/img/favicon.ico" type="image/x-icon">


</head>


<body class="post-template-default single single-post single-format-standard ct-body singular singular-post not-front standard">

  <div id="overflow-container" class="overflow-container">
    <a class="skip-content" href="#main">Skip to content</a>
    <header id="site-header" class="site-header" role="banner">
      <div class='top-navigation'>
        <div class='container'>

  <div id="menu-secondary" class="menu-container menu-secondary" role="navigation">
    <button id="toggle-secondary-navigation" class="toggle-secondary-navigation"><i class="fa fa-plus"></i></button>

    <div class="menu">

      <ul id="menu-secondary-items" class="menu-secondary-items">
        
        <li id="menu-item" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item">
          <a href="/categories/h5c3">H5C3</a>
        </li>
        

      </ul>

    </div>

  </div>


  <ul class="social-media-icons">


    

    

    

    
    <li>
      <a href="full%20profile%20url%20in%20instagram" data-animate-hover="pulse" class="twitter" target="_blank">
        <i class="fa fa-instagram" title="instagram"></i>
        <span class="screen-reader-text">instagram</span>
      </a>
    </li>
    

    
    <li>
      <a href="mailto:email@example.com" data-animate-hover="pulse" class="email">
        <i class="fa fa-envelope" title="email"></i>
        <span class="screen-reader-text">email</span>
      </a>
    </li>
    

    

    
    <li>
      <a href="full%20profile%20url%20in%20stackoverflow" data-animate-hover="pulse" class="stackoverflow" target="_blank">
        <i class="fa fa-stack-overflow" title="stackoverflow"></i>
        <span class="screen-reader-text">stackoverflow</span>
      </a>
    </li>
    


    
    <li>
      <a href="full%20profile%20url%20in%20github" data-animate-hover="pulse" class="github" target="_blank">
        <i class="fa fa-github" title="github"></i>
        <span class="screen-reader-text">github</span>
      </a>
    </li>
    


    
    <li>
      <a href="full%20profile%20url%20in%20pinterest" data-animate-hover="pulse" class="pinterest" target="_blank">
        <i class="fa fa-pinterest" title="pinterest"></i>
        <span class="screen-reader-text">pinterest</span>
      </a>
    </li>
    

    


  </ul></div>

      </div>

      <div class="container">
        <div id="title-info" class="title-info">
  <div id='site-title' class='site-title'>
    
    <a href="/"> 前~端~影 </a>
    </div>
  </div>
  <button id="toggle-navigation" class="toggle-navigation">
    <i class="fa fa-bars"></i>
  </button>

  <div id="menu-primary-tracks" class="menu-primary-tracks"></div>
  <div id="menu-primary" class="menu-container menu-primary" role="navigation">
    
    <p class="site-description">~唯有阅读~</p>
    

    <div class="menu">
      <ul id="menu-primary-items" class="menu-primary-items">
        
        
        <li id="menu-item" class='menu-item menu-item-type-custom menu-item-object-custom '>
          <a href="https://Eliden123.github.io/">首页</a>
          
        </li>
        
        <li id="menu-item" class='menu-item menu-item-type-post_type menu-item-object-page '>
          <a href="https://Eliden123.github.io/contact/">摄影</a>
          
        </li>
        
        <li id="menu-item" class='menu-item menu-item-type-post_type menu-item-object-page '>
          <a href="https://Eliden123.github.io/about/">关于我</a>
          
        </li>
        
      </ul>
    </div>

  </div>

      </div>
    </header>

    <div id="main" class="main" role="main">

      
  
  
    map[]
  
  
  <div id="loop-container" class="loop-container">
    
    <div class="post type-post status-publish format-standard has-post-thumbnail hentry category-design tag-design tag-standard-2 tag-tagalicious tag-travel entry full-without-featured odd excerpt-1">

      <div class='featured-image lazy lazy-bg-image'  data-background="https://Eliden123.github.io/headerimg/1.jpg">
      </div>
      
        <div class="entry-meta">
          <span class="date">05 September</span>	<span> / </span>

          <span class="author">
            <a href="https://Eliden123.github.io/" title="Posts by eliden" rel="author">eliden</a>
          </span>


          
          <span class="category">
            <span> / </span>

            <a href="/categories/H5C3">H5C3</a>
          </span>
          


        </div>
        <div class='entry-header'>
          <h1 class='entry-title'> HTML5笔记</h1>
        </div>
        <div class="entry-container">
          <div class="entry-content">
            <article>
              <p></p>

<h3 id="操作类的方法">操作类的方法</h3>

<blockquote>
<ol>
<li><p>jquery操作类的方法：addClass() removeClass() toggleClass() hasClass()</p></li>

<li><p>h5也有类似的api 基于一个对象classList的方法 add() remove() toggle() contains()</p></li>
</ol>
</blockquote>

<pre><code>var dom = document.querySelector('li:nth-child(2)');

/*1.获取类*/
console.log(dom.classList);
/* DOM.classList 获取的是这个DOM元素上的所有class */

/*2.操作类*/
dom.classList.add('blue');
dom.classList.remove('red');
</code></pre>

<h3 id="自定义属性">自定义属性</h3>

<blockquote>
<p>1.自定义属性 data-* 自定义属性</p>

<p>2.获取元素的自定义属性 jquery获取方式 $(&lsquo;div&rsquo;).data(&lsquo;自定义属性的名称)</p>

<p>3.自定义属性的名称是什么？ data-user==&gt;user data-user-name==&gt;userName</p>

<p>4.命名规则 遵循驼峰命名法</p>

<p>5.获取元素的自定义属性 h5的方式 dataset 自定义属性的集合</p>
</blockquote>

<pre><code>&lt;div data-user=&quot;wl&quot; data-user-age=&quot;18&quot;&gt;&lt;/div&gt;
</code></pre>

<ul>
<li>jquery</li>
</ul>

<blockquote>
<p>/*获取所有 $(&lsquo;div&rsquo;).data() */</p>

<p>/<em>获取单个自定义属性 $(&lsquo;div&rsquo;).data(&lsquo;user&rsquo;)</em>/</p>

<p>/<em>设置单个属性 $(&lsquo;div&rsquo;).data(&lsquo;user&rsquo;,&lsquo;gg&rsquo;)</em>/</p>
</blockquote>

<ul>
<li>h5原生api</li>
</ul>

<blockquote>
<p>获取所有  var set = div.dataset;</p>

<p>获取单个自定义属性 var user = set.user;var user = set[&lsquo;user&rsquo;];</p>

<p>设置单个属性 set.user = &lsquo;gg&rsquo;;</p>
</blockquote>

<h3 id="h5-全屏api">h5 全屏api</h3>

<blockquote>
<p>通过添加私有前缀来兼容</p>

<pre><code>video.webkitRequestFullScreen();
document.webkitCancelFullScreen();
</code></pre>
</blockquote>

<pre><code>document.querySelector('.btn1').onclick = function () {
/*全屏操作*/
/*每一个元素都有全屏方法*/
/*H5的api存在兼容问题*/
/*在IE9以下不支持 加也没有用*/
/*但是在高级浏览器新版本支持，但是需要加上私有前缀*/
/*私有前缀：css (-webkit-,-moz-,-ms-,-o-) */
/*在js当中也有私有前缀 在方法属性之前加上就可以 首字母大小*/
//document.querySelector('video').webkitRequestFullScreen();
</code></pre>

<pre><code>/*页面文档全屏*/
//document.querySelector('body').webkitRequestFullScreen();
document.documentElement.webkitRequestFullScreen();
//document.querySelector('.box').webkitRequestFullScreen();
}
document.querySelector('.btn2').onclick = function () {
/*取消全屏 跟元素没有关系*/
document.webkitCancelFullScreen();
}
</code></pre>

<pre><code>    /*全屏操作后 自带的控制栏会显示 在显示的时候隐藏*/
    video::-webkit-media-controls {
        display: none !important;
    }

    .controls {
        width: 700px;
        height: 40px;
        background-color: rgba(255, 255, 255, 0.2);
        border-radius: 4px;
        position: absolute;
        left: 50%;
        margin-left: -350px;
        bottom: 5px;
        /*比全屏的状态下的视频元素高*/
        z-index: 100000000000;
        opacity: 1;
    }

    .player:hover .controls {
        opacity: 1;
    }
</code></pre>

<h3 id="案例">案例</h3>

<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head lang=&quot;en&quot;&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;视频播放&lt;/title&gt;
    &lt;!--字体图标库--&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;css/font-awesome.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;css/player.css&quot;/&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;figure&gt;
    &lt;figcaption&gt;视频播放器&lt;/figcaption&gt;
    &lt;div class=&quot;player&quot;&gt;
        &lt;video src=&quot;./video/fun.mp4&quot;&gt;&lt;/video&gt;
        &lt;div class=&quot;controls&quot;&gt;
            &lt;!--播放/暂停--&gt;
            &lt;a href=&quot;javascript:;&quot; class=&quot;switch fa fa-play&quot;&gt;&lt;/a&gt;
            &lt;!--播放进度--&gt;
            &lt;div class=&quot;progress&quot;&gt;
                &lt;div class=&quot;line&quot;&gt;&lt;/div&gt;
                &lt;div class=&quot;bar&quot;&gt;&lt;/div&gt;
            &lt;/div&gt;
            &lt;!--当前播放时间/播放总时长--&gt;
            &lt;div class=&quot;timer&quot;&gt;
                &lt;span class=&quot;current&quot;&gt;00:00:00&lt;/span&gt; / &lt;span class=&quot;total&quot;&gt;00:00:00&lt;/span&gt;
            &lt;/div&gt;
            &lt;!--全屏/取消全屏--&gt;
            &lt;a href=&quot;javascript:;&quot; class=&quot;expand fa fa-arrows-alt&quot;&gt;&lt;/a&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/figure&gt;
&lt;script src=&quot;./js/jquery.min.js&quot;&gt;&lt;/script&gt;
&lt;script&gt;
    $(function () {
        /*获取需要操作的dom元素*/
        /*多媒体相关的api都是dom元素提供的*/
        var $video = $('video');

        var video = $video.get(0);

        var $total = $('.total');

        var $switch = $('.switch');

        var $line = $('.line');

        var $current = $('.current');

        var $expand = $('.expand');

        var $bar = $('.bar');

        var formatTime = function (time) {
            /* 01:02:20 格式 */
            /*time 3666 =&gt; 01:01:06 */
            var h = Math.floor(time / 3600);
            var m = Math.floor(time % 3600 / 60);
            var s = Math.floor(time % 60);
            return (h &gt;= 10 ? h : '0' + h) + ':' + (m &gt;= 10 ? m : '0' + m) + ':' + (s &gt;= 10 ? s : '0' + s);
        };


        /*1.加载效果 总时长显示*/
        video.oncanplay = function () {
            $video.show();
            /*总时长获取 video.duration*/
            $total.html(formatTime(video.duration));
        }

        /*2.播放功能 / 暂停功能*/
        $switch.on('click', function () {
            /*判断当前的播放状态*/
            if ($switch.hasClass('fa-play')) {
                /*播放*/
                video.play();
                /*暂停按钮*/
                $switch.removeClass('fa-play').addClass('fa-pause');
            } else {
                /*暂停*/
                video.pause();
                /*播放按钮*/
                $switch.addClass('fa-play').removeClass('fa-pause');
            }
        });

        /*3.播放中进度条显示 当前播放时间的显示*/
        video.ontimeupdate = function () {
            /* 当前播放时间 console.log(video.currentTime);*/
            $current.html(formatTime(video.currentTime));
            /*进度显示 通过长度 百分比*/
            var ratio = video.currentTime / video.duration;
            var p = ratio * 100 + '%';
            $line.css('width', p);
        };

        /*4.全屏/取消全屏*/
        $expand.on('click', function () {
            if ($expand.hasClass('fa-arrows-alt')) {
                /*全屏操作*/
                video.webkitRequestFullScreen();
                /*改按钮 收起全屏按钮*/
                $expand.removeClass('fa-arrows-alt').addClass('fa-compress');
            } else {
                /*取消全屏*/
                document.webkitCancelFullScreen();
                /*改按钮 全屏按钮*/
                $expand.addClass('fa-arrows-alt').removeClass('fa-compress');
            }
        });

        /*5.跃进功能*/
        $bar.on('click', function (e) {
            /*获取点击的位置和进度条宽度的比例*/
            /*通过比例去计算播放时间*/
            /*把播放时间设置好了 进度也会改变*/
            var width = $bar.width();
            /* e.offsetX e.offsetY 当前点击的地方 距离坐标的坐标和上边的坐标 相对于当前元素的 */
            var place = e.offsetX;
            /*计算播放时间*/
            var time = place / width * video.duration;
            /*设置*/
            video.currentTime = time;
            /*触发 播放时间更改事件 */
            /*必须视频加载完成的时候才能看到效果 */
            /*遇到跃进没有效果 file形式打开页面 */
        })

        /*6.播放完毕重置功能*/
        video.onended = function () {
            video.currentTime = 0;
            /*播放按钮*/
            $switch.addClass('fa-play').removeClass('fa-pause');
        }
    })
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;

</code></pre>

<h3 id="地理定位">地理定位</h3>

<blockquote>
<p>在桌面浏览器使用geolocation会遇到网络阻塞问题 （国内政策）</p>

<p>PositionError {code: 2, message: &ldquo;Network location provider at &lsquo;<a href="https://www.googleapis.com/'">https://www.googleapis.com/'</a> : No response received.&ldquo;}</p>
</blockquote>

<pre><code>&lt;script&gt;
    if (navigator.geolocation) {
        /*getCurrentPosition 获取当前定位信息*/
        navigator.geolocation.getCurrentPosition(function (position) {
            /*获取定位信息成功*/
            /*position 定位信息对象*/
            /*position 属性 coords 坐标对象*/
            /*coords 有 经纬度 海拔 ... */
            /* latitude 维度 longitude 经度 */

        }, function (PositionError) {
            /*获取定位信息失败*/
            /*PositionError 失败信息*/
        })
    }
&lt;/script&gt;
</code></pre>

<pre><code>&lt;script&gt;

    /*h5 geolocation */
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(function (position) {
            /*获取定位成功回调函数*/
            /*定位数据*/
            console.log(position);
            var latitude = position.coords.latitude;
            var longitude = position.coords.longitude;

// 这些都是写死
            var map = new BMap.Map(&quot;container&quot;); // container表示显示哪个容器
// 把经度纬度传给百度
            /*40.1691162668,116.6348530780*/
            var point = new BMap.Point(longitude, latitude);
//默认的比例
            map.centerAndZoom(point, 20);
//添加鼠标滚动缩放
            map.enableScrollWheelZoom();
// 只写上面三行就可出现地图了，并且会定位
// 定义好了一个图片标记
            var myIcon = new BMap.Icon(&quot;1.png&quot;, new BMap.Size(128, 128));
// 创建标注
            var marker = new BMap.Marker(point, {icon: myIcon});
            map.addOverlay(marker);
//点击地图，获取经纬度坐标
            map.addEventListener(&quot;click&quot;, function (e) {
                console.log(&quot;经度坐标：&quot; + e.point.lng + &quot; 纬度坐标：&quot; + e.point.lat);
            });
        }, function (error) {
            /*获取定位失败回调函数*/
            /*失败原因*/
            console.log(error)
        });
    }

    // 这些都是写死
    var map = new BMap.Map(&quot;container&quot;); // container表示显示哪个容器
    // 把经度纬度传给百度
    /*40.1691162668,116.6348530780*/
    var point = new BMap.Point(116.6348530780, 40.1691162668);
    //默认的比例
    map.centerAndZoom(point, 20);
    //添加鼠标滚动缩放
    map.enableScrollWheelZoom();
    // 只写上面三行就可出现地图了，并且会定位
    // 定义好了一个图片标记
    var myIcon = new BMap.Icon(&quot;1.png&quot;, new BMap.Size(128, 128));
    // 创建标注
    var marker = new BMap.Marker(point, {icon: myIcon});
    map.addOverlay(marker);
    //点击地图，获取经纬度坐标
    map.addEventListener(&quot;click&quot;, function (e) {
        console.log(&quot;经度坐标：&quot; + e.point.lng + &quot; 纬度坐标：&quot; + e.point.lat);
    });

&lt;/script&gt;
</code></pre>
            </article>
          </div>
          
      <div class='entry-meta-bottom'>
        

  <div class="entry-categories"><p><span>Categories</span>
    
    <a href="/categories/h5c3" title="View all posts in H5C3">H5C3</a>
  </p>
</div>



<div class="entry-tags"><p><span>Tags</span>
  

</p></div>	</div>

	
<div class="author-meta">

  <div class="author">
    	
    <img alt='eliden' src="https://www.gravatar.com/avatar/5658ffccee7f0ebfda2b226238b1eb6e?s=100&d=identicon" class='avatar avatar-72 photo' height='72' width='72'>
    
    <span>
      Written by:<a href="https://Eliden123.github.io/" title="Posts by eliden" rel="author">eliden</a> </span>
    </div>
    <div class="bio">
      
      
      <p></p>
      
      
	
      

    


  



<a class="email" target="_blank"
href="mailto:email@example.com">
<i class="fa fa-envelope"
title="email icon"></i>
</a>



<a class="instagram" target="_blank"
href="full%20profile%20url%20in%20instagram">
<i class="fa fa-instagram"
title="instagram icon"></i>
</a>



<a class="stackoverflow" target="_blank"
href="full%20profile%20url%20in%20stackoverflow">
<i class="fa fa-stack-overflow"
title="stackoverflow icon"></i>
</a>



<a class="github" target="_blank"
href="full%20profile%20url%20in%20github">
<i class="fa fa-github"
title="github icon"></i>
</a>




<a class="pinterest" target="_blank"
href="full%20profile%20url%20in%20pinterest">
<i class="fa fa-pinterest"
title="pinterest icon"></i>
</a>






</div>
</div>

</div>
</div>

<section id="comments" class="comments">
  <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "eliden" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

  




</section>
</div>

 



    </div>

    <footer id="site-footer" class="site-footer" role="contentinfo">
	<h1>
    
    <a href=""> 前~端~影 </a>
    
	</h1>

			
			<p class="site-description">~唯有阅读~</p>
			

		<div id="menu-footer" class="menu-container menu-footer" role="navigation">
		<div class="menu">

      <ul id="menu-footer-items" class="menu-footer-items">
        
</ul>

</div>	</div>

<ul class="social-media-icons">

        

        


        

        
        <li>
        <a href="full%20profile%20url%20in%20instagram"  class="twitter" target="_blank">
            <i class="fa fa-instagram" title="instagram"></i>
            <span class="screen-reader-text">instagram</span>
        </a>
        </li>
        

        
        <li>
        <a href="mailto:email@example.com"  class="email">
            <i class="fa fa-envelope" title="email"></i>
            <span class="screen-reader-text">email</span>
        </a>
        </li>
        

        

        
        <li>
        <a href="full%20profile%20url%20in%20stackoverflow"  class="stackoverflow" target="_blank">
            <i class="fa fa-stack-overflow" title="stackoverflow"></i>
            <span class="screen-reader-text">stackoverflow</span>
        </a>
        </li>
        


        
        <li>
        <a href="full%20profile%20url%20in%20github"  class="github" target="_blank">
            <i class="fa fa-github" title="github"></i>
            <span class="screen-reader-text">github</span>
        </a>
        </li>
        


        
        <li>
        <a href="full%20profile%20url%20in%20pinterest"  class="pinterest" target="_blank">
            <i class="fa fa-pinterest" title="pinterest"></i>
            <span class="screen-reader-text">pinterest</span>
        </a>
        </li>
        

        

				</ul>	<div class="design-credit">
		
		<p>&copy; 2018</p>
		
	</div>
</footer>

  </div>
  <script src="https://Eliden123.github.io/js/jquery.min.js"></script>
<script src="https://Eliden123.github.io/js/jquerymigrate.js"></script>
<script src="https://Eliden123.github.io/js/production.min.js"></script>

</body>
</html>
